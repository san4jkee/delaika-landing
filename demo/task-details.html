<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="../assets/logo.svg" />

    <title>Задача: В работе</title>

    <script>
        // On page load or when changing themes, best to add inline in `head` to avoid FOUC
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark')
        }
    </script>
</head>

<body class="flex bg-gray-100 dark:bg-gray-900 font-sans">
    <aside id="logo-sidebar"
        class="fixed top-0 left-0 z-40 w-64 h-screen pt-20 transition-transform -translate-x-full bg-white border-r border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700"
        aria-label="Sidebar">
        <div class="h-full px-3 pb-4 overflow-y-auto bg-white dark:bg-gray-800">

            <!-- Форма поиска -->
            <form class="flex max-w-md mx-auto mb-5" form role="search" action="#">
                <label for="default-search"
                    class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Поиск</label>
                <div class="relative">
                    <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                        <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
                        </svg>
                    </div>
                    <input type="search" id="default-search" name="query"
                        class="block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                        placeholder="Поиск..." required />
                    <button type="submit"
                        class="sr-only text-white absolute end-2.5 bottom-1.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Поиск</button>
                </div>
            </form>

            <ul class="space-y-2 font-medium">

                <li>
                    <a href="../demo/dashboard.html"
                        class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                        <svg class="w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                            aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 22 21">
                            <path
                                d="M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z" />
                            <path
                                d="M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z" />
                        </svg>
                        <span class="flex-1 ms-3 whitespace-nowrap">Панель статистики</span>
                    </a>
                </li>
                <li>
                    <a href="../demo/users.html"
                        class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group invalid">
                        <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                            aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 20 18">
                            <path
                                d="M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z" />
                        </svg>
                        <span class="flex-1 ms-3 whitespace-nowrap">Пользователи</span>
                    </a>
                </li>
                <li>
                    <a href="../demo/tasks.html"
                        class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                        <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                            aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 512 512">
                            <path
                                d="M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" />
                        </svg>
                        <span class="flex-1 ms-3 whitespace-nowrap">Все задачи</span>
                        <span
                            class="inline-flex items-center justify-center px-2 ms-3 text-sm font-medium text-gray-800 bg-gray-100 rounded-full dark:bg-gray-700 dark:text-gray-300">4</span>
                    </a>
                </li>
                <li>
                    <a href="../demo/my-tasks.html"
                        class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                        <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                            aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 20 20">
                            <path
                                d="m17.418 3.623-.018-.008a6.713 6.713 0 0 0-2.4-.569V2h1a1 1 0 1 0 0-2h-2a1 1 0 0 0-1 1v2H9.89A6.977 6.977 0 0 1 12 8v5h-2V8A5 5 0 1 0 0 8v6a1 1 0 0 0 1 1h8v4a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-4h6a1 1 0 0 0 1-1V8a5 5 0 0 0-2.582-4.377ZM6 12H4a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2Z" />
                        </svg>
                        <span class="flex-1 ms-3 whitespace-nowrap">Мои задачи</span>
                        <span
                            class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300">2</span>
                    </a>
                </li>
                <li>
                    <a href="../demo/projects.html"
                        class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                        <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                            aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 576 512">
                            <path
                                d="M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z" />
                        </svg>
                        <span class="flex-1 ms-3 whitespace-nowrap">Проекты</span>
                        <span
                            class="inline-flex items-center justify-center px-2 ms-3 text-sm font-medium text-gray-800 bg-gray-100 rounded-full dark:bg-gray-700 dark:text-gray-300">8</span>
                    </a>
                </li>
                <a href="../demo/login.html"
                    class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                    <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                        aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 512 512">
                        <path
                            d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z" />
                    </svg>
                    <span class="flex-1 ms-3 whitespace-nowrap">Выход</span>
                </a>
                </li>
            </ul>

        </div>
    </aside>

    <!-- Главная область -->
    <div class="flex flex-col flex-1 overflow-hidden">
        <!-- Шапка -->
        <nav class="fixed top-0 z-50 w-full bg-white border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700">
            <div class="px-3 py-3 lg:px-5 lg:pl-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center justify-start rtl:justify-end">
                        <button data-drawer-target="logo-sidebar" data-drawer-toggle="logo-sidebar"
                            aria-controls="logo-sidebar" type="button"
                            class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
                            <span class="sr-only">Open sidebar</span>
                            <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path clip-rule="evenodd" fill-rule="evenodd"
                                    d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z">
                                </path>
                            </svg>
                        </button>
                        <a href="../demo/tasks.html" class="flex ms-2 md:me-24">
                            <img src="../assets/logo.svg" class="h-8 me-3" alt="Делайка" />
                            <span
                                class="self-center text-xl font-semibold sm:text-2xl whitespace-nowrap text-blue-950 dark:text-gray-300">Де&#x301;лайка</span>
                        </a>
                    </div>

                    <div class="flex items-center space-x-3">
                        <div class="flex items-center ms-3 relative">

                            <!-- Кнопка уведомлений -->
                            <button id="notificationButton" type="button"
                                class="flex text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-1 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-full text-sm p-2.5"
                                aria-expanded="false" data-dropdown-toggle="notificationsDropdown">
                                <span class="sr-only">Open notifications menu</span>
                                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0" />
                                </svg>
                                <span id="notificationCount"
                                    class="absolute top-0 right-0 block h-4 w-4 rounded-full bg-red-500 text-white text-xs text-center">0</span>
                            </button>

                            <!-- Выпадающий список уведомлений -->
                            <div id="notificationsDropdown"
                                class="absolute hidden z-40 mt-2 shadow-lg dark:border-gray-600 -right-[250px] flex max-h-96 w-[350px] flex-col rounded-2xl border border-gray-200 bg-white p-3 shadow-theme-lg dark:bg-gray-800 sm:w-[361px] lg:right-0">
                                <div
                                    class="flex items-center justify-between pb-3 mb-3 border-b border-gray-100 dark:border-gray-700">
                                    <h5 class="text-lg font-semibold text-gray-800 dark:text-gray-200">Уведомления</h5>
                                </div>
                                <ul id="notificationsList" class="flex flex-col h-auto overflow-y-auto
                  [&::-webkit-scrollbar]:w-2
                  [&::-webkit-scrollbar-track]:rounded-full
                  [&::-webkit-scrollbar-track]:bg-gray-100
                  [&::-webkit-scrollbar-thumb]:rounded-full
                  [&::-webkit-scrollbar-thumb]:bg-gray-300
                  dark:[&::-webkit-scrollbar-track]:bg-neutral-700
                  dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500" role="none">
                                </ul>
                                <div
                                    class="flex items-center justify-center mt-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400">
                                    <button onclick="markAllNotificationsAsRead()"
                                        class="text-sm text-gray-700 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 disabled:opacity-50 mr-2"
                                        id="markAllReadBtn">
                                        Прочитать все
                                    </button>
                                    <span class="w-1 h-1 bg-gray-400 rounded-full"></span>
                                    <a href="#"
                                        class="text-sm text-gray-700 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 ml-2">
                                        Посмотреть все
                                    </a>
                                </div>
                            </div>

                        </div>


                        <!-- Пользовательский профиль -->
                        <div class="relative flex items-center">
                            <a href="#"
                                class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-1 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-full text-sm p-2.5">
                                <img class="h-5 w-5 object-cover rounded-full" src="../assets/avatar.jpg"
                                    alt="user photo">

                            </a>
                        </div>

                        <!-- Переключатель темы -->
                        <div class="relative flex items-center">
                            <button id="theme-toggle" type="button"
                                class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-1 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-full text-sm p-2.5">
                                <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor"
                                    viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                                </svg>
                                <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor"
                                    viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                        fill-rule="evenodd" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                        </div>
                    </div>

                </div>
            </div>
        </nav>

        <script>

            var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
            var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

            // Change the icons inside the button based on previous settings
            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                themeToggleLightIcon.classList.remove('hidden');
            } else {
                themeToggleDarkIcon.classList.remove('hidden');
            }

            var themeToggleBtn = document.getElementById('theme-toggle');

            themeToggleBtn.addEventListener('click', function () {

                // toggle icons inside button
                themeToggleDarkIcon.classList.toggle('hidden');
                themeToggleLightIcon.classList.toggle('hidden');

                // if set via local storage previously
                if (localStorage.getItem('color-theme')) {
                    if (localStorage.getItem('color-theme') === 'light') {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    }

                    // if NOT set via local storage previously
                } else {
                    if (document.documentElement.classList.contains('dark')) {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    } else {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    }
                }

            });
        </script>

        <!-- Основная часть -->
        <div class="p-4 sm:ml-64">

            <div class="mt-16">
                <div class="rounded">
                    <nav class="flex" aria-label="Breadcrumb">
                        <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
                            <li class="inline-flex items-center">
                                <a href="../demo/tasks.html"
                                    class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
                                    <svg class="w-3 h-3 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                        fill="currentColor" viewBox="0 0 20 20">
                                        <path
                                            d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z" />
                                    </svg>
                                    Главная
                                </a>
                            </li>
                            <li>
                                <div class="flex items-center">
                                    <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-width="2" d="m1 9 4-4-4-4" />
                                    </svg>
                                    <a href="../demo/tasks.html"
                                        class="ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white">Задачи</a>
                                </div>
                            </li>
                            <li aria-current="page">
                                <div class="flex items-center">
                                    <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-width="2" d="m1 9 4-4-4-4" />
                                    </svg>
                                    <span class="ms-1 text-sm font-medium text-gray-500 md:ms-2 dark:text-gray-400">В
                                        работе</span>
                                </div>
                            </li>
                        </ol>
                    </nav>

                    <section class="container py-6 px-4 bg-white dark:bg-gray-800 rounded mt-6">
                        <div class="flex justify-between">
                            <div class="flex space-x-4">
                                <div>
                                    <div
                                        th:if="${task.isStarted != null and task.isStarted} and ${task.isCompleted != null and !task.isCompleted}">
                                        <button onclick="openCompleteModal()"
                                            class="bg-gray-300 hover:bg-gray-500 text-cyan-600 hover:text-cyan-300 font-bold py-2 px-4 rounded">
                                            Выполнить
                                        </button>
                                    </div>
                                </div>

                            </div>
                            <div class="flex space-x-4">
                                <ol class="items-center sm:flex">
                                    <li class="mb-6 sm:mb-0 px-3" th:if="${task.isStarted and !task.isCompleted}">
                                        <div class="mt-3 sm:pe-8">
                                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">На проверке
                                            </h3>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </div>

                        <div class="flex items-center gap-2">
                            <span
                                class="text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-200 px-2.5 py-0.5 rounded dark:bg-gray-700">#2</span>
                            <h1 class="text-2xl font-bold text-black dark:text-gray-400">Тестовое задание</h1>
                        </div>

                        <div
                            class="space-y-2 grid lg:grid-cols-2 md:grid-cols-2 gap-4 justify-items-start sm:grid-cols-1">
                            <div class="flex items-center p-2 group">
                                <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 "
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor">
                                    <path
                                        d="M96 128a128 128 0 1 0 256 0A128 128 0 1 0 96 128zm94.5 200.2l18.6 31L175.8 483.1l-36-146.9c-2-8.1-9.8-13.4-17.9-11.3C51.9 342.4 0 405.8 0 481.3c0 17 13.8 30.7 30.7 30.7l131.7 0c0 0 0 0 .1 0l5.5 0 112 0 5.5 0c0 0 0 0 .1 0l131.7 0c17 0 30.7-13.8 30.7-30.7c0-75.5-51.9-138.9-121.9-156.4c-8.1-2-15.9 3.3-17.9 11.3l-36 146.9L238.9 359.2l18.6-31c6.4-10.7-1.3-24.2-13.7-24.2L224 304l-19.7 0c-12.4 0-20.1 13.6-13.7 24.2z" />
                                </svg>
                                <span class="flex-1 ms-3 text-gray-500 dark:text-gray-200">Исполнитель</span>
                                <a href="#"><span
                                        class="inline-flex items-end justify-end px-2 ms-3 text-sm font-medium text-gray-800 dark:text-white">Быков
                                        Александр</span></a>
                            </div>

                            <div class="flex items-center p-2 group">
                                <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="currentColor">
                                    <path
                                        d="M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z" />
                                </svg>
                                <span class="flex-1 ms-3 text-gray-500 dark:text-gray-200">Проект</span>
                                <a href="#"><span
                                        class="inline-flex items-start justify-start px-2 ms-3 text-sm font-medium text-gray-800 dark:text-white">Тестовый
                                        проект</span></a>
                            </div>

                            <div class="flex items-center p-2 group">
                                <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor">
                                    <path
                                        d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z" />
                                </svg>
                                <span class="flex-1 ms-3 text-gray-500 dark:text-gray-200">Дата начала</span>
                                <span id="startDate"
                                    class="inline-flex items-start justify-start px-2 ms-3 text-sm font-medium text-gray-800 dark:text-white">01.04.25</span>
                            </div>

                            <div class="flex items-center p-2 group">
                                <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor">
                                    <path
                                        d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z" />
                                </svg>
                                <span class="flex-1 ms-3 text-gray-500 dark:text-gray-200">Дата завершения</span>
                                <span id="endDate"
                                    class="inline-flex items-start justify-start px-2 ms-3 text-sm font-medium text-gray-800 dark:text-white">25.04.25</span>
                                <span id="daysDifference"
                                    class="inline-flex items-center justify-center px-2 py-1 ms-3 text-sm font-xs text-red-800 bg-red-100 rounded-full dark:bg-red-900 dark:text-red-300"></span>
                            </div>

                            <div class="flex items-center p-2 group">
                                <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor">
                                    <path
                                        d="M576 0c17.7 0 32 14.3 32 32l0 448c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-448c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352c0-17.7 14.3-32 32-32zM352 224l0 256c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32zM96 416l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32s32 14.3 32 32z" />
                                </svg>
                                <span class="flex-1 ms-3 text-gray-500 dark:text-gray-200">Приоритет</span>
                                <span
                                    class="inline-flex items-start justify-start px-2 ms-3 text-sm font-medium text-gray-800 dark:text-white">Высокий</span>
                            </div>

                            <div class="flex items-center p-2 group">
                                <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor">
                                    <path
                                        d="M192 128c0-17.7 14.3-32 32-32s32 14.3 32 32l0 7.8c0 27.7-2.4 55.3-7.1 82.5l-84.4 25.3c-40.6 12.2-68.4 49.6-68.4 92l0 71.9c0 40 32.5 72.5 72.5 72.5c26 0 50-13.9 62.9-36.5l13.9-24.3c26.8-47 46.5-97.7 58.4-150.5l94.4-28.3-12.5 37.5c-3.3 9.8-1.6 20.5 4.4 28.8s15.7 13.3 26 13.3l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-83.6 0 18-53.9c3.8-11.3 .9-23.8-7.4-32.4s-20.7-11.8-32.2-8.4L316.4 198.1c2.4-20.7 3.6-41.4 3.6-62.3l0-7.8c0-53-43-96-96-96s-96 43-96 96l0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32zm-9.2 177l49-14.7c-10.4 33.8-24.5 66.4-42.1 97.2l-13.9 24.3c-1.5 2.6-4.3 4.3-7.4 4.3c-4.7 0-8.5-3.8-8.5-8.5l0-71.9c0-14.1 9.3-26.6 22.8-30.7zM24 368c-13.3 0-24 10.7-24 24s10.7 24 24 24l40.3 0c-.2-2.8-.3-5.6-.3-8.5L64 368l-40 0zm592 48c13.3 0 24-10.7 24-24s-10.7-24-24-24l-310.1 0c-6.7 16.3-14.2 32.3-22.3 48L616 416z" />
                                </svg>
                                <span class="flex-1 ms-3 text-gray-500 dark:text-gray-200">Проверяющий</span>
                                <a href="#"><span
                                        class="inline-flex items-start justify-start px-2 ms-3 text-sm font-medium text-gray-800 dark:text-white">Быков
                                        Александр</span></a>
                                <span class="inline-flex items-center justify-center ms-3 text-sm font-xs">


                                    <div>
                                        <p
                                            class="px-3 py-1 text-red-800 bg-red-100 rounded-full dark:bg-red-900 dark:text-red-300">
                                            Задача
                                            отправлена на проверку</p>
                                    </div>
                                </span>
                            </div>

                            <div class="flex items-center p-2 group">
                                <svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="currentColor">
                                    <path
                                        d="M118.6 80c-11.5 0-21.4 7.9-24 19.1L57 260.3c20.5-6.2 48.3-12.3 78.7-12.3c32.3 0 61.8 6.9 82.8 13.5c10.6 3.3 19.3 6.7 25.4 9.2c3.1 1.3 5.5 2.4 7.3 3.2c.9 .4 1.6 .7 2.1 1l.6 .3 .2 .1c0 0 .1 0 .1 0c0 0 0 0 0 0s0 0 0 0L247.9 288s0 0 0 0l6.3-12.7c5.8 2.9 10.4 7.3 13.5 12.7l40.6 0c3.1-5.3 7.7-9.8 13.5-12.7l6.3 12.7s0 0 0 0c-6.3-12.7-6.3-12.7-6.3-12.7s0 0 0 0s0 0 0 0c0 0 .1 0 .1 0l.2-.1 .6-.3c.5-.2 1.2-.6 2.1-1c1.8-.8 4.2-1.9 7.3-3.2c6.1-2.6 14.8-5.9 25.4-9.2c21-6.6 50.4-13.5 82.8-13.5c30.4 0 58.2 6.1 78.7 12.3L481.4 99.1c-2.6-11.2-12.6-19.1-24-19.1c-3.1 0-6.2 .6-9.2 1.8L416.9 94.3c-12.3 4.9-26.3-1.1-31.2-13.4s1.1-26.3 13.4-31.2l31.3-12.5c8.6-3.4 17.7-5.2 27-5.2c33.8 0 63.1 23.3 70.8 56.2l43.9 188c1.7 7.3 2.9 14.7 3.5 22.1c.3 1.9 .5 3.8 .5 5.7l0 6.7 0 41.3 0 16c0 61.9-50.1 112-112 112l-44.3 0c-59.4 0-108.5-46.4-111.8-105.8L306.6 352l-37.2 0-1.2 22.2C264.9 433.6 215.8 480 156.3 480L112 480C50.1 480 0 429.9 0 368l0-16 0-41.3L0 304c0-1.9 .2-3.8 .5-5.7c.6-7.4 1.8-14.8 3.5-22.1l43.9-188C55.5 55.3 84.8 32 118.6 32c9.2 0 18.4 1.8 27 5.2l31.3 12.5c12.3 4.9 18.3 18.9 13.4 31.2s-18.9 18.3-31.2 13.4L127.8 81.8c-2.9-1.2-6-1.8-9.2-1.8zM64 325.4L64 368c0 26.5 21.5 48 48 48l44.3 0c25.5 0 46.5-19.9 47.9-45.3l2.5-45.6c-2.3-.8-4.9-1.7-7.5-2.5c-17.2-5.4-39.9-10.5-63.6-10.5c-23.7 0-46.2 5.1-63.2 10.5c-3.1 1-5.9 1.9-8.5 2.9zM512 368l0-42.6c-2.6-.9-5.5-1.9-8.5-2.9c-17-5.4-39.5-10.5-63.2-10.5c-23.7 0-46.4 5.1-63.6 10.5c-2.7 .8-5.2 1.7-7.5 2.5l2.5 45.6c1.4 25.4 22.5 45.3 47.9 45.3l44.3 0c26.5 0 48-21.5 48-48z" />
                                </svg>
                                <span class="flex-1 ms-3 text-gray-500 dark:text-gray-200">Наблюдатель</span>
                                <a href="#"><span
                                        class="inline-flex items-start justify-start px-2 ms-3 text-sm font-medium text-gray-800 dark:text-white"
                                        th:text="${task.observer.displayName}">Иванов Иван</span></a>
                            </div>
                        </div>

                        <div class="mt-2 border-t border-gray-300 dark:border-gray-600 py-6">
                            <p class="text-gray-600 dark:text-white text-sm" id="taskDescription">
                                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Fugiat omnis quia numquam
                                aliquam dolor quo, enim libero id excepturi consectetur totam quae voluptas blanditiis
                                illum, ut cupiditate iure ipsum nostrum!</p>
                        </div>

                        <div class="p-3 rounded-xl bg-gray-50 dark:bg-gray-900 sm:p-4">
                            <div class="flex items-center gap-2 mb-5">
                                <span class="text-gray-500 dark:text-gray-400">
                                    <svg class="fill-current" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M10.6685 12.035C10.6685 12.044 10.6686 12.0529 10.6689 12.0617V13.4533C10.6689 13.8224 10.3697 14.1216 10.0006 14.1216C9.63155 14.1216 9.33235 13.8224 9.33235 13.4533V5.12807C9.33235 4.71385 8.99657 4.37807 8.58235 4.37807C8.16814 4.37807 7.83235 4.71385 7.83235 5.12807V13.4533C7.83235 14.6508 8.80313 15.6216 10.0006 15.6216C11.1981 15.6216 12.1689 14.6508 12.1689 13.4533V5.12807C12.1689 5.11803 12.1687 5.10804 12.1683 5.09811C12.1522 3.1311 10.5527 1.5415 8.58189 1.5415C6.60108 1.5415 4.99532 3.14727 4.99532 5.12807L4.99532 12.035C4.99532 12.0414 4.9954 12.0477 4.99556 12.0539V13.4533C4.99556 16.2174 7.2363 18.4582 10.0004 18.4582C12.7645 18.4582 15.0053 16.2174 15.0053 13.4533V7.96463C15.0053 7.55042 14.6695 7.21463 14.2553 7.21463C13.841 7.21463 13.5053 7.55042 13.5053 7.96463V13.4533C13.5053 15.389 11.9361 16.9582 10.0004 16.9582C8.06473 16.9582 6.49556 15.389 6.49556 13.4533V7.96463C6.49556 7.95832 6.49548 7.95202 6.49532 7.94574L6.49532 5.12807C6.49532 3.97569 7.42951 3.0415 8.58189 3.0415C9.73427 3.0415 10.6685 3.97569 10.6685 5.12807L10.6685 12.035Z"
                                            fill=""></path>
                                    </svg></span><span class="text-sm text-gray-700 dark:text-gray-400">Вложения</span>
                            </div>
                            <div class="flex flex-wrap justify-start gap-3">
                                <div
                                    class="relative hover:border-gray-300 dark:hover:border-white/[0.05] flex w-full items-center gap-3 rounded-xl border border-gray-200 bg-white py-2.5 pl-3 pr-5 dark:border-gray-800 dark:bg-white/5 sm:w-auto">

                                    <div class="w-full h-10 max-w-10">

                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
                                            class="w-10 h-10 text-red-800 dark:text-red/90">
                                            <path fill="currentColor"
                                                d="M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z">
                                            </path>
                                        </svg>

                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-800 dark:text-white/90 truncate">Счет от
                                            20.02.2025.pdf</p><span class="flex items-center gap-1.5">
                                            <span class="text-gray-500 text-theme-xs dark:text-gray-400">PDF</span>
                                            <span
                                                class="inline-block w-1 h-1 bg-gray-400 rounded-full cursor-pointer"></span>
                                            <a href="#" target="_blank"><span
                                                    class="text-gray-500 text-theme-xs dark:text-gray-400">Загрузить</span></a>
                                        </span>
                                    </div>
                                </div>
                                <div
                                    class="relative hover:border-gray-300 dark:hover:border-white/[0.05] flex w-full items-center gap-3 rounded-xl border border-gray-200 bg-white py-2.5 pl-3 pr-5 dark:border-gray-800 dark:bg-white/5 sm:w-auto">

                                    <div class="w-full h-10 max-w-10">

                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                                            class="w-10 h-10 text-gray-800 dark:text-white/90">
                                            <path fill="currentColor"
                                                d="M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z">
                                            </path>
                                        </svg>

                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-800 dark:text-white/90 truncate">
                                            Название файла</p><span class="flex items-center gap-1.5">
                                            <span class="text-gray-500 text-theme-xs dark:text-gray-400">Файл</span>
                                            <span
                                                class="inline-block w-1 h-1 bg-gray-400 rounded-full cursor-pointer"></span>
                                            <a href="#" target="_blank"><span
                                                    class="text-gray-500 text-theme-xs dark:text-gray-400">Загрузить</span></a>
                                        </span>
                                    </div>
                                </div>
                                <div
                                    class="relative hover:border-gray-300 dark:hover:border-white/[0.05] flex w-full items-center gap-3 rounded-xl border border-gray-200 bg-white py-2.5 pl-3 pr-5 dark:border-gray-800 dark:bg-white/5 sm:w-auto">
                                    <div class="w-full h-10 max-w-10 cursor-pointer">
                                        <img alt="icon" loading="lazy" width="40" height="40" decoding="async"
                                            data-nimg="1" class="w-10 h-10 object-cover rounded-md"
                                            src="../assets/attachments.png" style="color: transparent;"
                                            onclick="openModal(this.src)">
                                    </div>

                                    <div>
                                        <p class="text-sm font-medium text-gray-800 dark:text-white/90 truncate">
                                            attachments.png</p><span class="flex items-center gap-1.5">
                                            <span class="text-gray-500 text-theme-xs dark:text-gray-400">IMG</span>
                                            <span
                                                class="inline-block w-1 h-1 bg-gray-400 rounded-full cursor-pointer"></span>
                                            <a href="../assets/attachments.png" target="_blank"><span
                                                    class="text-gray-500 text-theme-xs dark:text-gray-400">Загрузить</span></a>
                                        </span>
                                    </div>
                                </div>
                                <div
                                    class="relative hover:border-gray-300 dark:hover:border-white/[0.05] flex w-full items-center gap-3 rounded-xl border border-gray-200 bg-white py-2.5 pl-3 pr-5 dark:border-gray-800 dark:bg-white/5 sm:w-auto">
                                    <div class="w-full h-10 max-w-10">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
                                            class="w-10 h-10 text-red-800 dark:text-red/90">
                                            <path fill="currentColor"
                                                d="M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z">
                                            </path>
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-800 dark:text-white/90 truncate">Счет от
                                            20.02.2025 (1).pdf</p><span class="flex items-center gap-1.5">
                                            <span class="text-gray-500 text-theme-xs dark:text-gray-400">PDF</span>
                                            <span
                                                class="inline-block w-1 h-1 bg-gray-400 rounded-full cursor-pointer"></span>
                                            <a href="#" target="_blank"><span
                                                    class="text-gray-500 text-theme-xs dark:text-gray-400">Загрузить</span></a>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Модальное окно для отображения изображений -->
                        <div id="imageModal"
                            class="hidden flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center max-w-full md:inset-0 h-[calc(100%-1rem)] max-h-screen">
                            <div class="relative p-4 w-full max-w-xl max-h-full">
                                <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                                    <div
                                        class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                        <a id="downloadLink" href="#" target="_blank"
                                            class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Скачать</a>
                                        <button type="button" onclick="closeModal()"
                                            class="end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                                            data-modal-hide="authentication-modal">
                                            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                fill="none" viewBox="0 0 14 14">
                                                <path stroke="currentColor" stroke-linecap="round"
                                                    stroke-linejoin="round" stroke-width="2"
                                                    d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                                            </svg>
                                            <span class="sr-only">Close modal</span>
                                        </button>
                                    </div>
                                    <div class="p-4 md:p-5">
                                        <img id="modalImage" src="" alt="Image preview"
                                            class="max-w-full max-h-screen rounded-lg" />

                                    </div>
                                </div>
                            </div>
                        </div>

                    </section>

                    <section
                        class="container py-6 px-4 bg-green-100 dark:bg-green-900 rounded mt-6 text-green-800 dark:text-green-300">
                        <h3 class="text-base font-semibold">Комментарий к
                            выполнению:</h3>
                        <p id="taskExecutionComments" class="mt-2">
                            Комментарий к выполнению задачи
                        </p>
                        <h3 class="text-base font-semibold mt-3">Затраченное время:</h3>
                        <p class="mt-2 whitespace-pre-wrap">4 ч.</p>
                    </section>

                    <section class="container py-6">
                        <div class="max-w-2xl">

                            <div>
                                <form method="post"
                                    enctype="multipart/form-data" class="mb-6" id="commentForm">
                                    <div
                                        class="py-2 px-4 mb-4 bg-white rounded-lg rounded-t-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                                        <textarea rows="3" git required
                                            class="px-0 w-full text-sm text-gray-900 border-0 focus:ring-0 focus:outline-none dark:text-white dark:placeholder-gray-400 dark:bg-gray-800"
                                            placeholder="Напишите комментарий..."></textarea>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="block" for="input_file">
                                            <span class="sr-only">Choose profile photo</span>
                                            <input id="input_file" name="input_file" type="file" class="block w-full text-sm text-slate-500
                                                file:mr-4 file:py-2 file:px-4
                                                file:rounded-md file:border-0
                                                file:text-sm file:font-semibold
                                                file:bg-indigo-600 file:text-white
                                                hover:file:bg-indigo-500
                                                cursor-pointer
                                            " />
                                        </label>
                                        <button type="submit"
                                            class="ml-4 rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
                                            Отправить
                                        </button>
                                    </div>
                                </form>
                            </div>

                            <div id="commentsList">
                                <h3 class="text-lg lg:text-2xl font-bold text-gray-900 dark:text-white mb-1">Комментарии
                                </h3>
                                <article class="p-6 text-base bg-white rounded-lg dark:bg-gray-800 mb-2">
                                    <footer class="flex justify-between items-center">
                                        <div class="flex items-center">
                                            <p class="inline-flex items-center text-sm text-gray-900 dark:text-white font-semibold">
                                                <img src="../assets/avatar.jpg" class="mr-2 w-6 h-6 rounded-full object-cover" alt="pushka">

                                                <span class="mr-1">Быков Александр</span>
                                                <span>(</span><span>san4jkee</span><span>)</span>
                                            </p>
                                            <p class="ml-2 text-xs text-gray-600 dark:text-gray-400">17.04.25 08:37</p>
                                        </div>
                                    </footer>
                                    <p class="text-gray-500 dark:text-gray-400 whitespace-pre-wrap">Проверка</p>
                                </article>

                                <article class="p-6 text-base bg-white rounded-lg dark:bg-gray-800 mb-2">
                                    <footer class="flex justify-between items-center">
                                        <div class="flex items-center">
                                            <p class="inline-flex items-center text-sm text-gray-900 dark:text-white font-semibold">
                                                <img src="../assets/avatar2.png" class="mr-2 w-6 h-6 rounded-full object-cover" alt="pushka">

                                                <span class="mr-1">Иванов Иван</span>
                                                <span>(</span><span>test</span><span>)</span>
                                            </p>
                                            <p class="ml-2 text-xs text-gray-600 dark:text-gray-400">17.04.25 08:37</p>
                                        </div>
                                    </footer>
                                    <p class="text-gray-500 dark:text-gray-400 whitespace-pre-wrap">Проверка #2</p>
                                </article>

                            </div>

                        </div>
                    </section>


                    <script>
                        document.addEventListener("DOMContentLoaded", function () {
                            const endDateElement = document.getElementById('endDate');
                            const daysDifferenceElement = document.getElementById('daysDifference');
                            const isCompletedElement = document.getElementById('isCompleted');
                            const isApprovedElement = document.getElementById('isApproved');

                            const endDateText = endDateElement.innerText;
                            const isCompleted = isCompletedElement.value === 'true';
                            const isApproved = isApprovedElement.value === 'true';

                            function parseDate(dateString) {
                                const parts = dateString.split('.');
                                const formattedDate = `20${parts[2]}-${parts[1]}-${parts[0]}`;
                                return new Date(formattedDate);
                            }

                            const today = new Date();
                            const endDate = parseDate(endDateText);

                            if (isNaN(endDate)) {
                                daysDifferenceElement.innerText = 'Ошибка в формате даты';
                                return;
                            }

                            if (isCompleted && isApproved) {
                                daysDifferenceElement.innerText = 'Задача завершена';
                                daysDifferenceElement.classList.remove('text-red-800', 'bg-red-100', 'dark:bg-red-900', 'dark:text-red-300');
                                daysDifferenceElement.classList.add('text-green-800', 'bg-green-100', 'dark:bg-green-900', 'dark:text-green-300');
                            } else {
                                const oneDay = 24 * 60 * 60 * 1000;
                                const diffDays = Math.round((endDate - today) / oneDay);

                                if (diffDays < 0) {
                                    daysDifferenceElement.innerText = Math.abs(diffDays) + ' дней просрочено';
                                    daysDifferenceElement.classList.add('text-red-800', 'bg-red-100', 'dark:bg-red-900', 'dark:text-red-300');
                                } else {
                                    daysDifferenceElement.innerText = 'До завершения: ' + diffDays + ' дней';
                                    daysDifferenceElement.classList.remove('text-red-800', 'bg-red-100', 'dark:bg-red-900', 'dark:text-red-300');
                                    daysDifferenceElement.classList.add('text-green-800', 'bg-green-100', 'dark:bg-green-900', 'dark:text-green-300');
                                }
                            }
                        });
                        function closeModal() {
                            document.getElementById('imageModal').classList.add('hidden');
                        }
                        // Закрытие модального окна при клике за его пределами
                        window.addEventListener('click', function (e) {
                            const modal = document.getElementById('imageModal');
                            if (e.target === modal) {
                                modal.classList.add('hidden'); // Закрываем модальное окно
                            }
                        });

                        // Закрытие модального окна при нажатии клавиши Esc
                        window.addEventListener('keydown', function (e) {
                            if (e.key === 'Escape') {
                                const modal = document.getElementById('imageModal');
                                modal.classList.add('hidden');
                            }
                        });

                        function openCompleteModal() {
                            document.getElementById('completeModal').classList.remove('hidden');
                        }

                        function closeCompleteModal() {
                            document.getElementById('completeModal').classList.add('hidden');
                        }

                        document.addEventListener("DOMContentLoaded", () => {
                            const urlRegex = /(docs:\/\/[^\s<]+)/g;

                            // Рекурсивный проход по дереву DOM, замена ссылок в текстовых узлах
                            function walkAndLinkify(node) {
                                if (node.nodeType === Node.TEXT_NODE) {
                                    const text = node.nodeValue;
                                    if (urlRegex.test(text)) {
                                        const span = document.createElement("span");
                                        span.innerHTML = text.replace(urlRegex, '<a href="$1" class="underline">$1</a>');
                                        node.parentNode.replaceChild(span, node);
                                    }
                                } else if (node.nodeType === Node.ELEMENT_NODE && node.tagName !== 'A' && node.tagName !== 'SCRIPT') {
                                    for (let child of Array.from(node.childNodes)) {
                                        walkAndLinkify(child);
                                    }
                                }
                            }

                            // Обработать все контейнеры
                            ['#taskDescription', '#taskExecutionComments', '#commentsList'].forEach(selector => {
                                const el = document.querySelector(selector);
                                if (el) walkAndLinkify(el);
                            });

                            // Подключить обработку кликов по ссылкам docs://
                            document.querySelectorAll('a[href^="docs://"]').forEach(link => {
                                link.addEventListener('click', function (e) {
                                    e.preventDefault();
                                    window.location.href = this.href;
                                });
                            });
                        });

                    </script>
                </div>
            </div>
        </div>
    </div>
</body>

<script src="../assets/js/jquery-3.2.1.slim.min.js"></script>
<script src="../assets/js/app.js"></script>
<script src="../assets/js/flowbite.min.js"></script>

</html>